{"ast":null,"code":"var _jsxFileName = \"e:\\\\\\uC9C0\\uC218\\uC9C4\\\\NEW_ZISUZIN_2023\\\\03.SPA\\\\03.sources\\\\girls-pj\\\\src\\\\components\\\\Player.js\",\n  _s = $RefreshSig$();\n// 플레이어 컴포넌트 - Player.js\nimport React, { useRef, useState, useEffect } from \"react\";\n// 오디오 재생/컨트롤 라이브러리\nimport { Howl } from \"howler\";\n// 플레이어CSS\nimport \"../scss/player.css\";\n// 메인함수\nimport { handleHover } from \"../js/commonFn\";\nimport $ from \"jquery\";\n// 배너 데이터\nimport ban_data from \"../data/ban\";\n\n// LP 회전각도 초기화 변수\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet rotation = 0;\nfunction handleplayer() {\n  let audio = $(\"#music\")[0];\n  const play_btn = $(\".play_song_btn\");\n  const elapsed = $(\"#elapsed\");\n  const volumeBar = $(\"#volume\");\n  const lp = $(\".artwork\");\n\n  // 오디오 재생/멈춤버튼 토글\n  play_btn.click(function () {\n    play_btn.toggleClass(\"active\");\n    /* active 클래스 가지고있으면 이미지 변경! */\n    if (play_btn.hasClass(\"active\") && audio.paused) {\n      play_btn.find(\"img\").attr(\"src\", \"./images/player/bx-pause.svg\");\n      // audio.play();\n      rotateLp();\n    } else {\n      play_btn.find(\"img\").attr(\"src\", \"./images/player/bx-play-circle.svg\");\n      // audio.pause();\n      stopLp();\n    }\n  });\n  function rotateLp() {\n    // 회전각 1씩 증가!\n    rotation += 1;\n    // 1씩 증가된 회전각 만큼 회전\n    lp.css(\"transform\", \"rotate(\" + rotation + \"deg)\");\n    requestAnimationFrame(rotateLp);\n  }\n  function stopLp() {\n    // 회전각 1씩 감소!\n    rotation -= 1;\n    // 1씩 감소된 회전각 만큼 회전\n    lp.css(\"transform\", \"rotate(\" + rotation + \"deg)\");\n    requestAnimationFrame(stopLp);\n  }\n} // handleplayer 함수\n\n$(document).ready(function () {\n  // Player 함수\n  handleplayer();\n  // CD Hover함수\n  handleHover();\n  // CD Wheel 함수\n  // handleWheel();\n});\n\n// 플레이어 출력용 컴포넌트\nfunction Player(props) {\n  _s();\n  const total = $(\"#total_timer\");\n  const current = $(\"#progress_timer\");\n  const elapsed = $(\"#elapsed\");\n  const audioPlayer = useRef(null);\n  const sel_data = ban_data[props.cat];\n  const [volume, setVolume] = useState(1);\n  const handleVolumeChange = event => {\n    const volumeValue = event.target.value;\n  };\n  const [currentSongIndex, setCurrentSongIndex] = useState(0);\n  const [isPlaying, setIsPlaying] = useState(false);\n  const audioElement = new Audio(srcList[currentSongIndex]);\n  const soundRef = useRef(null);\n\n  // 다음 버튼 클릭시 다음 순번부터 곡 재생 (1~0)\n  const playNextSong = () => {\n    const nextIndex = (currentSongIndex + 1) % sel_data.length;\n    setCurrentSongIndex(nextIndex);\n    // playAudio 함수에 src값 인자로 넘겨주며 호출!\n    playAudio(sel_data[nextIndex].vsrc);\n  };\n  const playPrevSong = () => {\n    const prevIndex = (currentSongIndex - 1 + sel_data.length) % sel_data.length;\n    setCurrentSongIndex(prevIndex);\n    const audioSrc = sel_data[prevIndex].vsrc;\n    playAudio(audioSrc);\n  };\n  const handlePlayPause = () => {\n    setIsPlaying(!isPlaying);\n  };\n  const handleSongChange = index => {\n    setCurrentSongIndex(index);\n    if (isPlaying) {\n      audioElement.pause();\n      audioElement.src = srcList[index];\n      audioElement.play();\n    } else {\n      audioElement.src = srcList[index];\n    }\n  };\n  if (isPlaying) {\n    audioElement.play();\n  } else {\n    audioElement.pause();\n  }\n  const playAudio = audioSrc => {\n    // 이전/다음버튼 클릭 전 음원 중지\n    if (soundRef.current) {\n      soundRef.current.stop();\n    }\n    const sound = new Howl({\n      src: [audioSrc],\n      html5: true\n    });\n    sound.play();\n\n    // 현재 재생 중인 곡 참조\n    soundRef.current = sound;\n\n    // 재생버튼에 클래스 .active 유무 확인으로 음원 재생/멈춤\n    if ($(\".play_song_btn\").hasClass(\"active\")) {\n      sound.play();\n    } else {\n      sound.stop();\n    }\n  };\n  const srcList = [\"I feel\", \"EXPEC-TATIONS\", \"Nxde\", \"I love\", \"DUMDi DUMDi\", \"I am\", \"TOMBOY\"];\n  const x = ban_data.main[currentSongIndex];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"player\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n} // Player 함수\n_s(Player, \"6f0KCUqWcWCrY+2CyMIYWdoCRFA=\");\n_c = Player;\nexport default Player;\nvar _c;\n$RefreshReg$(_c, \"Player\");","map":{"version":3,"names":["React","useRef","useState","useEffect","Howl","handleHover","$","ban_data","jsxDEV","_jsxDEV","rotation","handleplayer","audio","play_btn","elapsed","volumeBar","lp","click","toggleClass","hasClass","paused","find","attr","rotateLp","stopLp","css","requestAnimationFrame","document","ready","Player","props","_s","total","current","audioPlayer","sel_data","cat","volume","setVolume","handleVolumeChange","event","volumeValue","target","value","currentSongIndex","setCurrentSongIndex","isPlaying","setIsPlaying","audioElement","Audio","srcList","soundRef","playNextSong","nextIndex","length","playAudio","vsrc","playPrevSong","prevIndex","audioSrc","handlePlayPause","handleSongChange","index","pause","src","play","stop","sound","html5","x","main","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["e:/지수진/NEW_ZISUZIN_2023/03.SPA/03.sources/girls-pj/src/components/Player.js"],"sourcesContent":["// 플레이어 컴포넌트 - Player.js\r\nimport React, { useRef, useState, useEffect } from \"react\";\r\n// 오디오 재생/컨트롤 라이브러리\r\nimport { Howl } from \"howler\";\r\n// 플레이어CSS\r\nimport \"../scss/player.css\";\r\n// 메인함수\r\nimport { handleHover } from \"../js/commonFn\";\r\nimport $ from \"jquery\";\r\n// 배너 데이터\r\nimport ban_data from \"../data/ban\";\r\n\r\n// LP 회전각도 초기화 변수\r\nlet rotation = 0;\r\n\r\nfunction handleplayer() {\r\n  let audio = $(\"#music\")[0];\r\n  const play_btn = $(\".play_song_btn\");\r\n  const elapsed = $(\"#elapsed\");\r\n  const volumeBar = $(\"#volume\");\r\n  const lp = $(\".artwork\");\r\n\r\n  // 오디오 재생/멈춤버튼 토글\r\n  play_btn.click(function () {\r\n    play_btn.toggleClass(\"active\");\r\n    /* active 클래스 가지고있으면 이미지 변경! */\r\n    if (play_btn.hasClass(\"active\") && audio.paused) {\r\n      play_btn.find(\"img\").attr(\"src\", \"./images/player/bx-pause.svg\");\r\n      // audio.play();\r\n      rotateLp();\r\n    } else {\r\n      play_btn.find(\"img\").attr(\"src\", \"./images/player/bx-play-circle.svg\");\r\n      // audio.pause();\r\n      stopLp();\r\n    }\r\n  });\r\n\r\n  function rotateLp() {\r\n    // 회전각 1씩 증가!\r\n    rotation += 1;\r\n    // 1씩 증가된 회전각 만큼 회전\r\n    lp.css(\"transform\", \"rotate(\" + rotation + \"deg)\");\r\n    requestAnimationFrame(rotateLp);\r\n  }\r\n\r\n  function stopLp() {\r\n    // 회전각 1씩 감소!\r\n    rotation -= 1;\r\n    // 1씩 감소된 회전각 만큼 회전\r\n    lp.css(\"transform\", \"rotate(\" + rotation + \"deg)\");\r\n    requestAnimationFrame(stopLp);\r\n  }\r\n\r\n} // handleplayer 함수\r\n\r\n$(document).ready(function () {\r\n  // Player 함수\r\n  handleplayer();\r\n  // CD Hover함수\r\n  handleHover();\r\n  // CD Wheel 함수\r\n  // handleWheel();\r\n});\r\n\r\n// 플레이어 출력용 컴포넌트\r\nfunction Player(props) {\r\n  const total = $(\"#total_timer\");\r\n  const current = $(\"#progress_timer\");\r\n  const elapsed = $(\"#elapsed\");\r\n\r\n  \r\n  const audioPlayer = useRef(null);\r\n  const sel_data = ban_data[props.cat];\r\n  const [volume, setVolume] = useState(1);\r\n  \r\n  const handleVolumeChange = (event) => {\r\n    const volumeValue = event.target.value;\r\n  };\r\n  \r\n  const [currentSongIndex, setCurrentSongIndex] = useState(0);\r\n  const [isPlaying, setIsPlaying] = useState(false);\r\n  const audioElement = new Audio(srcList[currentSongIndex]);\r\n  const soundRef = useRef(null);\r\n\r\n  // 다음 버튼 클릭시 다음 순번부터 곡 재생 (1~0)\r\n  const playNextSong = () => {\r\n    const nextIndex = (currentSongIndex + 1) % sel_data.length;\r\n    setCurrentSongIndex(nextIndex);\r\n    // playAudio 함수에 src값 인자로 넘겨주며 호출!\r\n    playAudio(sel_data[nextIndex].vsrc);\r\n  };\r\n\r\n  const playPrevSong = () => {\r\n    const prevIndex = (currentSongIndex - 1 + sel_data.length) % sel_data.length;\r\n    setCurrentSongIndex(prevIndex);\r\n    const audioSrc = sel_data[prevIndex].vsrc;\r\n    playAudio(audioSrc);\r\n  };\r\n\r\n  const handlePlayPause = () => {\r\n    setIsPlaying(!isPlaying);\r\n  };\r\n\r\n  const handleSongChange = (index) => {\r\n    setCurrentSongIndex(index);\r\n    if (isPlaying) {\r\n      audioElement.pause();\r\n      audioElement.src = srcList[index];\r\n      audioElement.play();\r\n    } else {\r\n      audioElement.src = srcList[index];\r\n    }\r\n  };\r\n\r\n  if (isPlaying) {\r\n    audioElement.play();\r\n  } else {\r\n    audioElement.pause();\r\n  }\r\n\r\n\r\n  const playAudio = (audioSrc) => {\r\n    // 이전/다음버튼 클릭 전 음원 중지\r\n    if (soundRef.current) {\r\n      soundRef.current.stop();\r\n    }\r\n\r\n    const sound = new Howl({\r\n      src: [audioSrc],\r\n      html5: true,\r\n    });\r\n    sound.play();\r\n\r\n    // 현재 재생 중인 곡 참조\r\n    soundRef.current = sound;\r\n\r\n    // 재생버튼에 클래스 .active 유무 확인으로 음원 재생/멈춤\r\n    if ($(\".play_song_btn\").hasClass(\"active\")) {\r\n      sound.play();\r\n    } else {\r\n      sound.stop();\r\n    }\r\n  };\r\n\r\n  const srcList = [\r\n    \"I feel\",\r\n    \"EXPEC-TATIONS\",\r\n    \"Nxde\",\r\n    \"I love\",\r\n    \"DUMDi DUMDi\",\r\n    \"I am\",\r\n    \"TOMBOY\",\r\n  ]\r\n  \r\n\r\n  const x = ban_data.main[currentSongIndex];\r\n\r\n  return (\r\n    \r\n    <div className={\"player\"}>\r\n        <div>\r\n\r\n        </div>\r\n    </div>\r\n  );\r\n} // Player 함수\r\n\r\nexport default Player;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}